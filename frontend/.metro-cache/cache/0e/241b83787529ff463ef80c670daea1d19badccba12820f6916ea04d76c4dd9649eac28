{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":38,"index":142}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useStore\", {\n    enumerable: true,\n    get: function () {\n      return useStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  const useStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    isLoading: true,\n    isLoggedIn: false,\n    wallets: [],\n    transactions: [],\n    stats: null,\n    activeWallet: null,\n    categories: [],\n    init: async () => {\n      try {\n        await _servicesApi.api.init();\n        const token = await AsyncStorage.default.getItem('token');\n        if (token) {\n          const user = await _servicesApi.api.getMe();\n          set({\n            user,\n            isLoggedIn: true\n          });\n          await get().loadData();\n        }\n      } catch (e) {\n        console.log('Init error:', e);\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (email, password) => {\n      const res = await _servicesApi.api.login(email, password);\n      set({\n        user: res.user,\n        isLoggedIn: true\n      });\n      await get().loadData();\n    },\n    register: async (email, password, name) => {\n      const res = await _servicesApi.api.register(email, password, name);\n      set({\n        user: res.user,\n        isLoggedIn: true\n      });\n      await get().loadData();\n    },\n    logout: () => {\n      _servicesApi.api.logout();\n      set({\n        user: null,\n        isLoggedIn: false,\n        wallets: [],\n        transactions: [],\n        stats: null,\n        activeWallet: null,\n        categories: []\n      });\n    },\n    loadData: async () => {\n      try {\n        const [wallets, transactions, stats, categories] = await Promise.all([_servicesApi.api.getWallets(), _servicesApi.api.getTransactions(), _servicesApi.api.getStats(), _servicesApi.api.getCategories()]);\n        const activeWallet = wallets[0] || null;\n        set({\n          wallets,\n          transactions,\n          stats,\n          activeWallet,\n          categories\n        });\n      } catch (e) {\n        console.log('Load data error:', e);\n      }\n    },\n    loadCategories: async type => {\n      const categories = await _servicesApi.api.getCategories(type);\n      set({\n        categories\n      });\n      return categories;\n    },\n    addCategory: async data => {\n      await _servicesApi.api.createCategory(data);\n      await get().loadCategories();\n    },\n    deleteCategory: async id => {\n      await _servicesApi.api.deleteCategory(id);\n      await get().loadCategories();\n    },\n    setActiveWallet: wallet => set({\n      activeWallet: wallet\n    }),\n    addTransaction: async data => {\n      await _servicesApi.api.createTransaction(data);\n      await get().loadData();\n    },\n    deleteTransaction: async id => {\n      await _servicesApi.api.deleteTransaction(id);\n      await get().loadData();\n    }\n  }));\n});","lineCount":121,"map":[[12,2,42,0,"Object"],[12,8,42,0],[12,9,42,0,"defineProperty"],[12,23,42,0],[12,24,42,0,"exports"],[12,31,42,0],[13,4,42,0,"enumerable"],[13,14,42,0],[14,4,42,0,"get"],[14,7,42,0],[14,18,42,0,"get"],[14,19,42,0],[15,6,42,0],[15,13,42,0,"useStore"],[15,21,42,0],[16,4,42,0],[17,2,42,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_servicesApi"],[21,18,3,0],[21,21,3,0,"require"],[21,28,3,0],[21,29,3,0,"_dependencyMap"],[21,43,3,0],[22,2,42,7],[22,8,42,13,"useStore"],[22,16,42,21],[22,19,42,24],[22,23,42,24,"create"],[22,31,42,30],[22,32,42,30,"create"],[22,38,42,30],[22,40,42,41],[22,41,42,42,"set"],[22,44,42,45],[22,46,42,47,"get"],[22,49,42,50],[22,55,42,56],[23,4,43,2,"user"],[23,8,43,6],[23,10,43,8],[23,14,43,12],[24,4,44,2,"isLoading"],[24,13,44,11],[24,15,44,13],[24,19,44,17],[25,4,45,2,"isLoggedIn"],[25,14,45,12],[25,16,45,14],[25,21,45,19],[26,4,46,2,"wallets"],[26,11,46,9],[26,13,46,11],[26,15,46,13],[27,4,47,2,"transactions"],[27,16,47,14],[27,18,47,16],[27,20,47,18],[28,4,48,2,"stats"],[28,9,48,7],[28,11,48,9],[28,15,48,13],[29,4,49,2,"activeWallet"],[29,16,49,14],[29,18,49,16],[29,22,49,20],[30,4,50,2,"categories"],[30,14,50,12],[30,16,50,14],[30,18,50,16],[31,4,52,2,"init"],[31,8,52,6],[31,10,52,8],[31,16,52,8,"init"],[31,17,52,8],[31,22,52,20],[32,6,53,4],[32,10,53,8],[33,8,54,6],[33,14,54,12,"api"],[33,26,54,15],[33,27,54,15,"api"],[33,30,54,15],[33,31,54,16,"init"],[33,35,54,20],[33,36,54,21],[33,37,54,22],[34,8,55,6],[34,14,55,12,"token"],[34,19,55,17],[34,22,55,20],[34,28,55,26,"AsyncStorage"],[34,40,55,38],[34,41,55,38,"default"],[34,48,55,38],[34,49,55,39,"getItem"],[34,56,55,46],[34,57,55,47],[34,64,55,54],[34,65,55,55],[35,8,56,6],[35,12,56,10,"token"],[35,17,56,15],[35,19,56,17],[36,10,57,8],[36,16,57,14,"user"],[36,20,57,18],[36,23,57,21],[36,29,57,27,"api"],[36,41,57,30],[36,42,57,30,"api"],[36,45,57,30],[36,46,57,31,"getMe"],[36,51,57,36],[36,52,57,37],[36,53,57,38],[37,10,58,8,"set"],[37,13,58,11],[37,14,58,12],[38,12,58,14,"user"],[38,16,58,18],[39,12,58,20,"isLoggedIn"],[39,22,58,30],[39,24,58,32],[40,10,58,37],[40,11,58,38],[40,12,58,39],[41,10,59,8],[41,16,59,14,"get"],[41,19,59,17],[41,20,59,18],[41,21,59,19],[41,22,59,20,"loadData"],[41,30,59,28],[41,31,59,29],[41,32,59,30],[42,8,60,6],[43,6,61,4],[43,7,61,5],[43,8,61,6],[43,15,61,13,"e"],[43,16,61,14],[43,18,61,16],[44,8,62,6,"console"],[44,15,62,13],[44,16,62,14,"log"],[44,19,62,17],[44,20,62,18],[44,33,62,31],[44,35,62,33,"e"],[44,36,62,34],[44,37,62,35],[45,6,63,4],[45,7,63,5],[45,16,63,14],[46,8,64,6,"set"],[46,11,64,9],[46,12,64,10],[47,10,64,12,"isLoading"],[47,19,64,21],[47,21,64,23],[48,8,64,29],[48,9,64,30],[48,10,64,31],[49,6,65,4],[50,4,66,2],[50,5,66,3],[51,4,68,2,"login"],[51,9,68,7],[51,11,68,9],[51,17,68,9,"login"],[51,18,68,16,"email"],[51,23,68,21],[51,25,68,23,"password"],[51,33,68,31],[51,38,68,36],[52,6,69,4],[52,12,69,10,"res"],[52,15,69,13],[52,18,69,16],[52,24,69,22,"api"],[52,36,69,25],[52,37,69,25,"api"],[52,40,69,25],[52,41,69,26,"login"],[52,46,69,31],[52,47,69,32,"email"],[52,52,69,37],[52,54,69,39,"password"],[52,62,69,47],[52,63,69,48],[53,6,70,4,"set"],[53,9,70,7],[53,10,70,8],[54,8,70,10,"user"],[54,12,70,14],[54,14,70,16,"res"],[54,17,70,19],[54,18,70,20,"user"],[54,22,70,24],[55,8,70,26,"isLoggedIn"],[55,18,70,36],[55,20,70,38],[56,6,70,43],[56,7,70,44],[56,8,70,45],[57,6,71,4],[57,12,71,10,"get"],[57,15,71,13],[57,16,71,14],[57,17,71,15],[57,18,71,16,"loadData"],[57,26,71,24],[57,27,71,25],[57,28,71,26],[58,4,72,2],[58,5,72,3],[59,4,74,2,"register"],[59,12,74,10],[59,14,74,12],[59,20,74,12,"register"],[59,21,74,19,"email"],[59,26,74,24],[59,28,74,26,"password"],[59,36,74,34],[59,38,74,36,"name"],[59,42,74,40],[59,47,74,45],[60,6,75,4],[60,12,75,10,"res"],[60,15,75,13],[60,18,75,16],[60,24,75,22,"api"],[60,36,75,25],[60,37,75,25,"api"],[60,40,75,25],[60,41,75,26,"register"],[60,49,75,34],[60,50,75,35,"email"],[60,55,75,40],[60,57,75,42,"password"],[60,65,75,50],[60,67,75,52,"name"],[60,71,75,56],[60,72,75,57],[61,6,76,4,"set"],[61,9,76,7],[61,10,76,8],[62,8,76,10,"user"],[62,12,76,14],[62,14,76,16,"res"],[62,17,76,19],[62,18,76,20,"user"],[62,22,76,24],[63,8,76,26,"isLoggedIn"],[63,18,76,36],[63,20,76,38],[64,6,76,43],[64,7,76,44],[64,8,76,45],[65,6,77,4],[65,12,77,10,"get"],[65,15,77,13],[65,16,77,14],[65,17,77,15],[65,18,77,16,"loadData"],[65,26,77,24],[65,27,77,25],[65,28,77,26],[66,4,78,2],[66,5,78,3],[67,4,80,2,"logout"],[67,10,80,8],[67,12,80,10,"logout"],[67,13,80,10],[67,18,80,16],[68,6,81,4,"api"],[68,18,81,7],[68,19,81,7,"api"],[68,22,81,7],[68,23,81,8,"logout"],[68,29,81,14],[68,30,81,15],[68,31,81,16],[69,6,82,4,"set"],[69,9,82,7],[69,10,82,8],[70,8,82,10,"user"],[70,12,82,14],[70,14,82,16],[70,18,82,20],[71,8,82,22,"isLoggedIn"],[71,18,82,32],[71,20,82,34],[71,25,82,39],[72,8,82,41,"wallets"],[72,15,82,48],[72,17,82,50],[72,19,82,52],[73,8,82,54,"transactions"],[73,20,82,66],[73,22,82,68],[73,24,82,70],[74,8,82,72,"stats"],[74,13,82,77],[74,15,82,79],[74,19,82,83],[75,8,82,85,"activeWallet"],[75,20,82,97],[75,22,82,99],[75,26,82,103],[76,8,82,105,"categories"],[76,18,82,115],[76,20,82,117],[77,6,82,120],[77,7,82,121],[77,8,82,122],[78,4,83,2],[78,5,83,3],[79,4,85,2,"loadData"],[79,12,85,10],[79,14,85,12],[79,20,85,12,"loadData"],[79,21,85,12],[79,26,85,24],[80,6,86,4],[80,10,86,8],[81,8,87,6],[81,14,87,12],[81,15,87,13,"wallets"],[81,22,87,20],[81,24,87,22,"transactions"],[81,36,87,34],[81,38,87,36,"stats"],[81,43,87,41],[81,45,87,43,"categories"],[81,55,87,53],[81,56,87,54],[81,59,87,57],[81,65,87,63,"Promise"],[81,72,87,70],[81,73,87,71,"all"],[81,76,87,74],[81,77,87,75],[81,78,88,8,"api"],[81,90,88,11],[81,91,88,11,"api"],[81,94,88,11],[81,95,88,12,"getWallets"],[81,105,88,22],[81,106,88,23],[81,107,88,24],[81,109,89,8,"api"],[81,121,89,11],[81,122,89,11,"api"],[81,125,89,11],[81,126,89,12,"getTransactions"],[81,141,89,27],[81,142,89,28],[81,143,89,29],[81,145,90,8,"api"],[81,157,90,11],[81,158,90,11,"api"],[81,161,90,11],[81,162,90,12,"getStats"],[81,170,90,20],[81,171,90,21],[81,172,90,22],[81,174,91,8,"api"],[81,186,91,11],[81,187,91,11,"api"],[81,190,91,11],[81,191,91,12,"getCategories"],[81,204,91,25],[81,205,91,26],[81,206,91,27],[81,207,92,7],[81,208,92,8],[82,8,93,6],[82,14,93,12,"activeWallet"],[82,26,93,24],[82,29,93,27,"wallets"],[82,36,93,34],[82,37,93,35],[82,38,93,36],[82,39,93,37],[82,43,93,41],[82,47,93,45],[83,8,94,6,"set"],[83,11,94,9],[83,12,94,10],[84,10,94,12,"wallets"],[84,17,94,19],[85,10,94,21,"transactions"],[85,22,94,33],[86,10,94,35,"stats"],[86,15,94,40],[87,10,94,42,"activeWallet"],[87,22,94,54],[88,10,94,56,"categories"],[89,8,94,67],[89,9,94,68],[89,10,94,69],[90,6,95,4],[90,7,95,5],[90,8,95,6],[90,15,95,13,"e"],[90,16,95,14],[90,18,95,16],[91,8,96,6,"console"],[91,15,96,13],[91,16,96,14,"log"],[91,19,96,17],[91,20,96,18],[91,38,96,36],[91,40,96,38,"e"],[91,41,96,39],[91,42,96,40],[92,6,97,4],[93,4,98,2],[93,5,98,3],[94,4,100,2,"loadCategories"],[94,18,100,16],[94,20,100,18],[94,26,100,25,"type"],[94,30,100,29],[94,34,100,34],[95,6,101,4],[95,12,101,10,"categories"],[95,22,101,20],[95,25,101,23],[95,31,101,29,"api"],[95,43,101,32],[95,44,101,32,"api"],[95,47,101,32],[95,48,101,33,"getCategories"],[95,61,101,46],[95,62,101,47,"type"],[95,66,101,51],[95,67,101,52],[96,6,102,4,"set"],[96,9,102,7],[96,10,102,8],[97,8,102,10,"categories"],[98,6,102,21],[98,7,102,22],[98,8,102,23],[99,6,103,4],[99,13,103,11,"categories"],[99,23,103,21],[100,4,104,2],[100,5,104,3],[101,4,106,2,"addCategory"],[101,15,106,13],[101,17,106,15],[101,23,106,22,"data"],[101,27,106,26],[101,31,106,31],[102,6,107,4],[102,12,107,10,"api"],[102,24,107,13],[102,25,107,13,"api"],[102,28,107,13],[102,29,107,14,"createCategory"],[102,43,107,28],[102,44,107,29,"data"],[102,48,107,33],[102,49,107,34],[103,6,108,4],[103,12,108,10,"get"],[103,15,108,13],[103,16,108,14],[103,17,108,15],[103,18,108,16,"loadCategories"],[103,32,108,30],[103,33,108,31],[103,34,108,32],[104,4,109,2],[104,5,109,3],[105,4,111,2,"deleteCategory"],[105,18,111,16],[105,20,111,18],[105,26,111,25,"id"],[105,28,111,27],[105,32,111,32],[106,6,112,4],[106,12,112,10,"api"],[106,24,112,13],[106,25,112,13,"api"],[106,28,112,13],[106,29,112,14,"deleteCategory"],[106,43,112,28],[106,44,112,29,"id"],[106,46,112,31],[106,47,112,32],[107,6,113,4],[107,12,113,10,"get"],[107,15,113,13],[107,16,113,14],[107,17,113,15],[107,18,113,16,"loadCategories"],[107,32,113,30],[107,33,113,31],[107,34,113,32],[108,4,114,2],[108,5,114,3],[109,4,116,2,"setActiveWallet"],[109,19,116,17],[109,21,116,20,"wallet"],[109,27,116,26],[109,31,116,31,"set"],[109,34,116,34],[109,35,116,35],[110,6,116,37,"activeWallet"],[110,18,116,49],[110,20,116,51,"wallet"],[111,4,116,58],[111,5,116,59],[111,6,116,60],[112,4,118,2,"addTransaction"],[112,18,118,16],[112,20,118,18],[112,26,118,25,"data"],[112,30,118,29],[112,34,118,34],[113,6,119,4],[113,12,119,10,"api"],[113,24,119,13],[113,25,119,13,"api"],[113,28,119,13],[113,29,119,14,"createTransaction"],[113,46,119,31],[113,47,119,32,"data"],[113,51,119,36],[113,52,119,37],[114,6,120,4],[114,12,120,10,"get"],[114,15,120,13],[114,16,120,14],[114,17,120,15],[114,18,120,16,"loadData"],[114,26,120,24],[114,27,120,25],[114,28,120,26],[115,4,121,2],[115,5,121,3],[116,4,123,2,"deleteTransaction"],[116,21,123,19],[116,23,123,21],[116,29,123,28,"id"],[116,31,123,30],[116,35,123,35],[117,6,124,4],[117,12,124,10,"api"],[117,24,124,13],[117,25,124,13,"api"],[117,28,124,13],[117,29,124,14,"deleteTransaction"],[117,46,124,31],[117,47,124,32,"id"],[117,49,124,34],[117,50,124,35],[118,6,125,4],[118,12,125,10,"get"],[118,15,125,13],[118,16,125,14],[118,17,125,15],[118,18,125,16,"loadData"],[118,26,125,24],[118,27,125,25],[118,28,125,26],[119,4,126,2],[120,2,127,0],[120,3,127,1],[120,4,127,2],[120,5,127,3],[121,0,127,4],[121,3]],"functionMap":{"names":["<global>","create$argument_0","init","login","register","logout","loadData","loadCategories","addCategory","deleteCategory","setActiveWallet","addTransaction","deleteTransaction"],"mappings":"AAA;yCCyC;QCU;GDc;SEE;GFI;YGE;GHI;UIE;GJG;YKE;GLa;kBME;GNI;eOE;GPG;kBQE;GRG;mBSE,yCT;kBUE;GVG;qBWE;GXG;EDC"},"hasCjsExports":false},"type":"js/module"}]}