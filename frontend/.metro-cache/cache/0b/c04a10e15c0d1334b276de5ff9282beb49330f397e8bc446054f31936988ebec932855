{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":38,"index":142}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useStore\", {\n    enumerable: true,\n    get: function () {\n      return useStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  const useStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    isLoading: true,\n    isLoggedIn: false,\n    wallets: [],\n    transactions: [],\n    stats: null,\n    activeWallet: null,\n    init: async () => {\n      try {\n        await _servicesApi.api.init();\n        const token = await AsyncStorage.default.getItem('token');\n        if (token) {\n          const user = await _servicesApi.api.getMe();\n          set({\n            user,\n            isLoggedIn: true\n          });\n          await get().loadData();\n        }\n      } catch (e) {\n        console.log('Init error:', e);\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    },\n    login: async (email, password) => {\n      const res = await _servicesApi.api.login(email, password);\n      set({\n        user: res.user,\n        isLoggedIn: true\n      });\n      await get().loadData();\n    },\n    register: async (email, password, name) => {\n      const res = await _servicesApi.api.register(email, password, name);\n      set({\n        user: res.user,\n        isLoggedIn: true\n      });\n      await get().loadData();\n    },\n    logout: () => {\n      _servicesApi.api.logout();\n      set({\n        user: null,\n        isLoggedIn: false,\n        wallets: [],\n        transactions: [],\n        stats: null,\n        activeWallet: null\n      });\n    },\n    loadData: async () => {\n      try {\n        const [wallets, transactions, stats] = await Promise.all([_servicesApi.api.getWallets(), _servicesApi.api.getTransactions(), _servicesApi.api.getStats()]);\n        const activeWallet = wallets[0] || null;\n        set({\n          wallets,\n          transactions,\n          stats,\n          activeWallet\n        });\n      } catch (e) {\n        console.log('Load data error:', e);\n      }\n    },\n    setActiveWallet: wallet => set({\n      activeWallet: wallet\n    }),\n    addTransaction: async data => {\n      await _servicesApi.api.createTransaction(data);\n      await get().loadData();\n    },\n    deleteTransaction: async id => {\n      await _servicesApi.api.deleteTransaction(id);\n      await get().loadData();\n    }\n  }));\n});","lineCount":103,"map":[[12,2,30,0,"Object"],[12,8,30,0],[12,9,30,0,"defineProperty"],[12,23,30,0],[12,24,30,0,"exports"],[12,31,30,0],[13,4,30,0,"enumerable"],[13,14,30,0],[14,4,30,0,"get"],[14,7,30,0],[14,18,30,0,"get"],[14,19,30,0],[15,6,30,0],[15,13,30,0,"useStore"],[15,21,30,0],[16,4,30,0],[17,2,30,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_servicesApi"],[21,18,3,0],[21,21,3,0,"require"],[21,28,3,0],[21,29,3,0,"_dependencyMap"],[21,43,3,0],[22,2,30,7],[22,8,30,13,"useStore"],[22,16,30,21],[22,19,30,24],[22,23,30,24,"create"],[22,31,30,30],[22,32,30,30,"create"],[22,38,30,30],[22,40,30,41],[22,41,30,42,"set"],[22,44,30,45],[22,46,30,47,"get"],[22,49,30,50],[22,55,30,56],[23,4,31,2,"user"],[23,8,31,6],[23,10,31,8],[23,14,31,12],[24,4,32,2,"isLoading"],[24,13,32,11],[24,15,32,13],[24,19,32,17],[25,4,33,2,"isLoggedIn"],[25,14,33,12],[25,16,33,14],[25,21,33,19],[26,4,34,2,"wallets"],[26,11,34,9],[26,13,34,11],[26,15,34,13],[27,4,35,2,"transactions"],[27,16,35,14],[27,18,35,16],[27,20,35,18],[28,4,36,2,"stats"],[28,9,36,7],[28,11,36,9],[28,15,36,13],[29,4,37,2,"activeWallet"],[29,16,37,14],[29,18,37,16],[29,22,37,20],[30,4,39,2,"init"],[30,8,39,6],[30,10,39,8],[30,16,39,8,"init"],[30,17,39,8],[30,22,39,20],[31,6,40,4],[31,10,40,8],[32,8,41,6],[32,14,41,12,"api"],[32,26,41,15],[32,27,41,15,"api"],[32,30,41,15],[32,31,41,16,"init"],[32,35,41,20],[32,36,41,21],[32,37,41,22],[33,8,42,6],[33,14,42,12,"token"],[33,19,42,17],[33,22,42,20],[33,28,42,26,"AsyncStorage"],[33,40,42,38],[33,41,42,38,"default"],[33,48,42,38],[33,49,42,39,"getItem"],[33,56,42,46],[33,57,42,47],[33,64,42,54],[33,65,42,55],[34,8,43,6],[34,12,43,10,"token"],[34,17,43,15],[34,19,43,17],[35,10,44,8],[35,16,44,14,"user"],[35,20,44,18],[35,23,44,21],[35,29,44,27,"api"],[35,41,44,30],[35,42,44,30,"api"],[35,45,44,30],[35,46,44,31,"getMe"],[35,51,44,36],[35,52,44,37],[35,53,44,38],[36,10,45,8,"set"],[36,13,45,11],[36,14,45,12],[37,12,45,14,"user"],[37,16,45,18],[38,12,45,20,"isLoggedIn"],[38,22,45,30],[38,24,45,32],[39,10,45,37],[39,11,45,38],[39,12,45,39],[40,10,46,8],[40,16,46,14,"get"],[40,19,46,17],[40,20,46,18],[40,21,46,19],[40,22,46,20,"loadData"],[40,30,46,28],[40,31,46,29],[40,32,46,30],[41,8,47,6],[42,6,48,4],[42,7,48,5],[42,8,48,6],[42,15,48,13,"e"],[42,16,48,14],[42,18,48,16],[43,8,49,6,"console"],[43,15,49,13],[43,16,49,14,"log"],[43,19,49,17],[43,20,49,18],[43,33,49,31],[43,35,49,33,"e"],[43,36,49,34],[43,37,49,35],[44,6,50,4],[44,7,50,5],[44,16,50,14],[45,8,51,6,"set"],[45,11,51,9],[45,12,51,10],[46,10,51,12,"isLoading"],[46,19,51,21],[46,21,51,23],[47,8,51,29],[47,9,51,30],[47,10,51,31],[48,6,52,4],[49,4,53,2],[49,5,53,3],[50,4,55,2,"login"],[50,9,55,7],[50,11,55,9],[50,17,55,9,"login"],[50,18,55,16,"email"],[50,23,55,21],[50,25,55,23,"password"],[50,33,55,31],[50,38,55,36],[51,6,56,4],[51,12,56,10,"res"],[51,15,56,13],[51,18,56,16],[51,24,56,22,"api"],[51,36,56,25],[51,37,56,25,"api"],[51,40,56,25],[51,41,56,26,"login"],[51,46,56,31],[51,47,56,32,"email"],[51,52,56,37],[51,54,56,39,"password"],[51,62,56,47],[51,63,56,48],[52,6,57,4,"set"],[52,9,57,7],[52,10,57,8],[53,8,57,10,"user"],[53,12,57,14],[53,14,57,16,"res"],[53,17,57,19],[53,18,57,20,"user"],[53,22,57,24],[54,8,57,26,"isLoggedIn"],[54,18,57,36],[54,20,57,38],[55,6,57,43],[55,7,57,44],[55,8,57,45],[56,6,58,4],[56,12,58,10,"get"],[56,15,58,13],[56,16,58,14],[56,17,58,15],[56,18,58,16,"loadData"],[56,26,58,24],[56,27,58,25],[56,28,58,26],[57,4,59,2],[57,5,59,3],[58,4,61,2,"register"],[58,12,61,10],[58,14,61,12],[58,20,61,12,"register"],[58,21,61,19,"email"],[58,26,61,24],[58,28,61,26,"password"],[58,36,61,34],[58,38,61,36,"name"],[58,42,61,40],[58,47,61,45],[59,6,62,4],[59,12,62,10,"res"],[59,15,62,13],[59,18,62,16],[59,24,62,22,"api"],[59,36,62,25],[59,37,62,25,"api"],[59,40,62,25],[59,41,62,26,"register"],[59,49,62,34],[59,50,62,35,"email"],[59,55,62,40],[59,57,62,42,"password"],[59,65,62,50],[59,67,62,52,"name"],[59,71,62,56],[59,72,62,57],[60,6,63,4,"set"],[60,9,63,7],[60,10,63,8],[61,8,63,10,"user"],[61,12,63,14],[61,14,63,16,"res"],[61,17,63,19],[61,18,63,20,"user"],[61,22,63,24],[62,8,63,26,"isLoggedIn"],[62,18,63,36],[62,20,63,38],[63,6,63,43],[63,7,63,44],[63,8,63,45],[64,6,64,4],[64,12,64,10,"get"],[64,15,64,13],[64,16,64,14],[64,17,64,15],[64,18,64,16,"loadData"],[64,26,64,24],[64,27,64,25],[64,28,64,26],[65,4,65,2],[65,5,65,3],[66,4,67,2,"logout"],[66,10,67,8],[66,12,67,10,"logout"],[66,13,67,10],[66,18,67,16],[67,6,68,4,"api"],[67,18,68,7],[67,19,68,7,"api"],[67,22,68,7],[67,23,68,8,"logout"],[67,29,68,14],[67,30,68,15],[67,31,68,16],[68,6,69,4,"set"],[68,9,69,7],[68,10,69,8],[69,8,69,10,"user"],[69,12,69,14],[69,14,69,16],[69,18,69,20],[70,8,69,22,"isLoggedIn"],[70,18,69,32],[70,20,69,34],[70,25,69,39],[71,8,69,41,"wallets"],[71,15,69,48],[71,17,69,50],[71,19,69,52],[72,8,69,54,"transactions"],[72,20,69,66],[72,22,69,68],[72,24,69,70],[73,8,69,72,"stats"],[73,13,69,77],[73,15,69,79],[73,19,69,83],[74,8,69,85,"activeWallet"],[74,20,69,97],[74,22,69,99],[75,6,69,104],[75,7,69,105],[75,8,69,106],[76,4,70,2],[76,5,70,3],[77,4,72,2,"loadData"],[77,12,72,10],[77,14,72,12],[77,20,72,12,"loadData"],[77,21,72,12],[77,26,72,24],[78,6,73,4],[78,10,73,8],[79,8,74,6],[79,14,74,12],[79,15,74,13,"wallets"],[79,22,74,20],[79,24,74,22,"transactions"],[79,36,74,34],[79,38,74,36,"stats"],[79,43,74,41],[79,44,74,42],[79,47,74,45],[79,53,74,51,"Promise"],[79,60,74,58],[79,61,74,59,"all"],[79,64,74,62],[79,65,74,63],[79,66,75,8,"api"],[79,78,75,11],[79,79,75,11,"api"],[79,82,75,11],[79,83,75,12,"getWallets"],[79,93,75,22],[79,94,75,23],[79,95,75,24],[79,97,76,8,"api"],[79,109,76,11],[79,110,76,11,"api"],[79,113,76,11],[79,114,76,12,"getTransactions"],[79,129,76,27],[79,130,76,28],[79,131,76,29],[79,133,77,8,"api"],[79,145,77,11],[79,146,77,11,"api"],[79,149,77,11],[79,150,77,12,"getStats"],[79,158,77,20],[79,159,77,21],[79,160,77,22],[79,161,78,7],[79,162,78,8],[80,8,79,6],[80,14,79,12,"activeWallet"],[80,26,79,24],[80,29,79,27,"wallets"],[80,36,79,34],[80,37,79,35],[80,38,79,36],[80,39,79,37],[80,43,79,41],[80,47,79,45],[81,8,80,6,"set"],[81,11,80,9],[81,12,80,10],[82,10,80,12,"wallets"],[82,17,80,19],[83,10,80,21,"transactions"],[83,22,80,33],[84,10,80,35,"stats"],[84,15,80,40],[85,10,80,42,"activeWallet"],[86,8,80,55],[86,9,80,56],[86,10,80,57],[87,6,81,4],[87,7,81,5],[87,8,81,6],[87,15,81,13,"e"],[87,16,81,14],[87,18,81,16],[88,8,82,6,"console"],[88,15,82,13],[88,16,82,14,"log"],[88,19,82,17],[88,20,82,18],[88,38,82,36],[88,40,82,38,"e"],[88,41,82,39],[88,42,82,40],[89,6,83,4],[90,4,84,2],[90,5,84,3],[91,4,86,2,"setActiveWallet"],[91,19,86,17],[91,21,86,20,"wallet"],[91,27,86,26],[91,31,86,31,"set"],[91,34,86,34],[91,35,86,35],[92,6,86,37,"activeWallet"],[92,18,86,49],[92,20,86,51,"wallet"],[93,4,86,58],[93,5,86,59],[93,6,86,60],[94,4,88,2,"addTransaction"],[94,18,88,16],[94,20,88,18],[94,26,88,25,"data"],[94,30,88,29],[94,34,88,34],[95,6,89,4],[95,12,89,10,"api"],[95,24,89,13],[95,25,89,13,"api"],[95,28,89,13],[95,29,89,14,"createTransaction"],[95,46,89,31],[95,47,89,32,"data"],[95,51,89,36],[95,52,89,37],[96,6,90,4],[96,12,90,10,"get"],[96,15,90,13],[96,16,90,14],[96,17,90,15],[96,18,90,16,"loadData"],[96,26,90,24],[96,27,90,25],[96,28,90,26],[97,4,91,2],[97,5,91,3],[98,4,93,2,"deleteTransaction"],[98,21,93,19],[98,23,93,21],[98,29,93,28,"id"],[98,31,93,30],[98,35,93,35],[99,6,94,4],[99,12,94,10,"api"],[99,24,94,13],[99,25,94,13,"api"],[99,28,94,13],[99,29,94,14,"deleteTransaction"],[99,46,94,31],[99,47,94,32,"id"],[99,49,94,34],[99,50,94,35],[100,6,95,4],[100,12,95,10,"get"],[100,15,95,13],[100,16,95,14],[100,17,95,15],[100,18,95,16,"loadData"],[100,26,95,24],[100,27,95,25],[100,28,95,26],[101,4,96,2],[102,2,97,0],[102,3,97,1],[102,4,97,2],[102,5,97,3],[103,0,97,4],[103,3]],"functionMap":{"names":["<global>","create$argument_0","init","login","register","logout","loadData","setActiveWallet","addTransaction","deleteTransaction"],"mappings":"AAA;yCC6B;QCS;GDc;SEE;GFI;YGE;GHI;UIE;GJG;YKE;GLY;mBME,yCN;kBOE;GPG;qBQE;GRG;EDC"},"hasCjsExports":false},"type":"js/module"}]}